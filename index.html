<!DOCTYPE html>
<head>
<link rel="shortcut icon" href="icon.ico">
<title>Bitter Sweethearts</title>
<link href="style.css" rel="stylesheet" type="text/css">
<script type="text/javascript">
var counter = 0;
var html5_audiotypes = {
	mp3: 'audio/mpeg',
	mp4: 'audio/mp4',
	ogg: 'audio/ogg',
	wav: 'audio/wav',
};

function reloadPage() {
	location.reload();
}

function createsoundbite(sound) {
	var html5audio = document.createElement('audio');
	if (html5audio.canPlayType) {
		//check support for HTML5 audio
		for (var i = 0; i < arguments.length; i++) {
			var sourceel = document.createElement('source');
			sourceel.setAttribute('src', arguments[i]);
			if (arguments[i].match(/\.(\w+)$/i))
				sourceel.setAttribute('type', html5_audiotypes[RegExp.$1]);
			html5audio.appendChild(sourceel);
		}
		html5audio.load();
		html5audio.playclip = function () {
			html5audio.pause();
			html5audio.currentTime = 0;
			html5audio.play();
		};
		return html5audio;
	} else {
		return {
			playclip: function () {
				throw new Error("Your browser doesn't support HTML5!");
			},
		};
	}
}

var sounds = {
	0: createsoundbite('audio/mirrorBreak.mp3'),
	1: createsoundbite('audio/glassBreak.mp3'),
	2: createsoundbite('audio/woodBreak.mp3'),
};

function getRandomInt(max) {
	return Math.floor(Math.random() * max);
}

function changeImage(identifier, image) {
	if (document.getElementById(identifier).src.indexOf('shatter') > -1) {
		// already shattered, no need to do anything
		return;
	}
	// play random sound
	document.getElementById(identifier).src = image;
	sounds[getRandomInt(3)].playclip();
	counter++;
	if (counter == 3) {
		document.getElementById('end').innerHTML =
			"<img onclick=reloadPage() src='img/again.png' class='again'>";
	}
}
</script>
</head>

<body>
<div class="header">
	<img src="img/logo.png">
</div>
<div class="container">
	<p>
	<a onclick="changeImage('blueL1', 'img/shatterBlueL.png')"><img src="img/blueL1.png" id="blueL1"  height="100px" width="100px" /></a>

	<a onclick="changeImage('magentaR1', 'img/shatterMagentaR.png')"><img src="img/magentaR1.png" id="magentaR1"  height="100px" width ="100px"/></a>

	<a onclick="changeImage('orangeL2', 'img/shatterOrangeL.png')"><img src="img/orangeL2.png" id="orangeL2"  height="125px" width ="125px"/></a>

	<a onclick="changeImage('pinkR1', 'img/shatterPinkR.png')"><img src="img/pinkR1.png" id="pinkR1"  height="100px" width ="100px"/></a>

	<a onclick="changeImage('yellowL2', 'img/shatterYellowL.png')"><img src="img/yellowL2.png" id="yellowL2"  height="125px" width ="125px"/></a>

	<a onclick="changeImage('blueL2', 'img/shatterBlueL.png')"><img src="img/blueL2.png" id="blueL2"  height="125px" width ="125px"/></a>

	<a onclick="changeImage('orangeR2', 'img/shatterOrangeR.png')"><img src="img/orangeR2.png" id="orangeR2"  height="100px" width ="100px"/></a>
	</p>
	<p>
	<a onclick="changeImage('greenL1', 'img/shatterGreenL.png')"><img src="img/greenL1.png" id="greenL1"  height="125px" width ="125px"/></a>

	<a onclick="changeImage('yellowR1', 'img/shatterYellowR.png')"><img src="img/yellowR1.png" id="yellowR1"  height="100px" width ="100px"/></a>

	<a onclick="changeImage('blueL3', 'img/shatterBlueL.png')"><img src="img/blueL3.png" id="blueL3"  height="100px" width ="100px"/></a>

	<a onclick="changeImage('magentaR2', 'img/shatterMagentaR.png')"><img src="img/magentaR2.png" id="magentaR2"  height="125px" width ="125px"/></a>

	<a onclick="changeImage('greenL2', 'img/shatterGreenL.png')"><img src="img/greenL2.png" id="greenL2"  height="100px" width ="100px"/></a>

	<a onclick="changeImage('pinkR2', 'img/shatterPinkR.png')"><img src="img/pinkR2.png" id="pinkR2"  height="125px" width ="125px"/></a>
	</p>
	<p>
	<a onclick="changeImage('blueR2', 'img/shatterBlueR.png')"><img src="img/blueR2.png" id="blueR2"  height="125px" width ="125px"/></a>

	<a onclick="changeImage('orangeL1', 'img/shatterOrangeL.png')"><img src="img/orangeL1.png" id="orangeL1"  height="100px" width ="100px"/></a>

	<a onclick="changeImage('pinkL2', 'img/shatterPinkL.png')"><img src="img/pinkL2.png" id="pinkL2"  height="100px" width ="100px"/></a>

	<a onclick="changeImage('yellowR2', 'img/shatterYellowR.png')"><img src="img/yellowR2.png" id="yellowR2"  height="125px" width ="125px"/></a>

	<a onclick="changeImage('blueR1', 'img/shatterBlueR.png')"><img src="img/blueR1.png" id="blueR1"  height="100px" width ="100px"/></a>

	<a onclick="changeImage('magentaL2', 'img/shatterMagentaL.png')"><img src="img/magentaL2.png" id="magentaL2"  height="100px" width ="100px"/></a>
	
	</p>
	<p>
	<a onclick="changeImage('greenR1', 'img/shatterGreenR.png')"><img src="img/greenR1.png" id="greenR1" height="125px" width ="125px"/></a>

	<a onclick="changeImage('magentaL1', 'img/shatterMagentaL.png')"><img src="img/magentaL1.png" id="magentaL1" height="125px" width ="125px"/></a>
	
	<a onclick="changeImage('orangeR1', 'img/shatterOrangeR.png')"><img src="img/orangeR1.png" id="orangeR1" height="125px" width ="125px"/></a>

	<a onclick="changeImage('pinkL1', 'img/shatterPinkL.png')"><img src="img/pinkL1.png" id="pinkL1" height="125px" width ="125px"/></a>
	
	<a onclick="changeImage('yellowL1', 'img/shatterYellowL.png')"><img src="img/yellowL1.png" id="yellowL1" height="100px" width ="100px"/></a>

	<a onclick="changeImage('greenR2', 'img/shatterGreenR.png')"><img src="img/greenR2.png" id="greenR2" height="100px" width ="100px"/></a>
	</p>
	<p id="end">
	</p>
</div>
</body>
</html>